<!DOCTYPE html>
 <html lang="pt-br">
   <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

        <link rel="stylesheet" href="assets/css/style.css"> 

        <link rel="shortcut icon" href="favicon.ico"> 

        <title>API Carcara </title>
   </head>
   <body> 
    
     <div class="row">
         <div class="col-md-10 offset-md-1"> 
             <nav class="navbar navbar-light bg-light justify-content-start">
        
                    <a class="navbar-brand">           
                    </a>
                    <img src="assets/img/carcara.png"> 
                      <h1>  Carcará API </h1>
             </nav>
         </div>
     </div>
        
       <div class="container">
        
          <div class="card" id="form-simu"> 
    
              <div class="card-header">
    
                </div>
    
                 <div class="card-body">
                         
                    <form >
    
                        <div class="row">
            
                          <div class="col-md-10 offset-md-1"> 
                            
                              <textarea id="dataInp" placeholder="Lista de dados a ser analisado" name="dataInp" class="form-control" rows="13"></textarea>
            
                              <br/> <textarea id="dataResu" placeholder="Resultado da analise será exibido aqui" name="dataResult"  class="form-control" rows="10" readonly></textarea>

                              <br/> <button type="button" class="btn btn-dark" onclick="displayData()" >Analisar </button>
                          </div>
                    
                        </div>
                    
                    </form>
                    
                </div>
            </div>
    
      </div>
        
   </body>
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>     
          function createAnalise(){
             let dataInp = document.getElementById("dataInp").value;
             let json = {dado: dataInp}
             console.log(json);
             axios.post("http://localhost:3200/",json)
              .then(response =>{
               if(response.data == "OK"){
                  console.log("o resultado da Analise saíra logo agurade ");
                 
                  }
               }).catch(err =>{
                  console.log(err);
               });
              document.getElementById("dataResu").innerHTML = JSON.stringify(json);             
            }
            function displayData(){
             axios.get("http://localhost:3200/")
                .then(response =>{
                  let resul= JSON.stringify(response.data);
                  document.getElementById('dataResu').innerHTML = resul;
                  console.log("teste");
                }).catch(err =>{
                    console.log(err);
                });
            }
      </script>
</html>